{# This file is part of INGInious. See the LICENSE and the COPYRIGHTS files for #}
{# more information about the licensing of this file. #}

<h3>Contest</h3>
<div class="list-group mb-3">
    <div class="list-group-item list-group-item-info">
        <div class="row">
            <div class="col-sm-1">
                <i class="fa fa-info fa-fw"></i>
            </div>
            <div class="col-sm-11" style="margin-left:-10px;">
                Contest starts: <div class="datetime-display">{{ start }}</div><br/>
                Contest ends: <div class="datetime-display">{{ end }}</div>
            </div>
        </div>
    </div>
    <div class="list-group-item list-group-item-info">
        <div class="row">
            <div class="col-sm-1">
                <i class="fa fa-info fa-fw"></i>
            </div>
            <script>
                let user_timezone = "{{ user_manager.session_timezone() }}" !== "None" ? "{{ user_manager.session_timezone() }}" : Intl.DateTimeFormat().resolvedOptions().timeZone;

                document.addEventListener("DOMContentLoaded", function() {
                    $(".access_countdown").attr("timezone", user_timezone);
                });
            </script>
            <div class="col-sm-11 access_countdown" style="margin-left:-10px;" >
                {% if start > start.utcnow() %}
                    <span class="contest_starting_time" starts-at="{{ start.strftime('%Y-%m-%d %H:%M:%S') }}"></span>
                {% else %}
                    <span class="contest_remaining_time" ends-at="{{ end.strftime('%4Y-%m-%d %H:%M:%S') }}"></span>
                    {% if blackout != end %}
                        <br/><span class="contest_blackout_time" blackout-at="{{ blackout.strftime('%4Y-%m-%d %H:%M:%S') }}"></span>
                    {% endif %}
                {% endif %}
            </div>
        </div>
    </div>
    <a href="{{get_homepath()}}/contest/{{course.get_id()}}" class="list-group-item list-group-item-action list-group-item-info">
        <i class="fa fa-trophy fa-fw"></i>
        Scoreboard
    </a>
</div>
